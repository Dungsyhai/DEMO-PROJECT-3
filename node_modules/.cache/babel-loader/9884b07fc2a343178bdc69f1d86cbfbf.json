{"ast":null,"code":"import _toConsumableArray from\"C:/Users/Admin/Desktop/PROJECT III/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _objectSpread from\"C:/Users/Admin/Desktop/PROJECT III/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import{toast}from'react-toastify';var initState={products:[],totalPrice:0,totalQuantities:0};var CartReducer=function CartReducer(){var state=arguments.length>0&&arguments[0]!==undefined?arguments[0]:initState;var action=arguments.length>1?arguments[1]:undefined;var findPro;var index;switch(action.type){case'ADD_TO_CART':var _action$payload=action.payload,product=_action$payload.product,quantity=_action$payload.quantity;var check=state.products.find(function(pr){return pr.id===product.id;});if(check){toast.info('Sản phẩm đã được thêm vào giỏ hàng',{position:\"top-right\",autoClose:2000});return state;}else{var Tprice=state.totalPrice+product.productPrice*quantity;var Tquantities=state.totalQuantities+quantity;product.quantity=quantity;return _objectSpread(_objectSpread({},state),{},{products:[].concat(_toConsumableArray(state.products),[product]),totalPrice:Tprice,totalQuantities:Tquantities});}case'INC':findPro=state.products.find(function(product){return product.id===action.payload;});index=state.products.findIndex(function(product){return product.id===action.payload;});findPro.quantity+=1;state.products[index]=findPro;return _objectSpread(_objectSpread({},state),{},{totalPrice:state.totalPrice+findPro.productPrice,totalQuantities:state.totalQuantities+1});case\"DEC\":findPro=state.products.find(function(product){return product.id===action.payload;});index=state.products.findIndex(function(product){return product.id===action.payload;});if(findPro.quantity>1){findPro.quantity-=1;state.products[index]=findPro;return _objectSpread(_objectSpread({},state),{},{totalPrice:state.totalPrice-findPro.productPricee,totalQuantities:state.totalQuantities-1});}else{return state;}case'REMOVE':findPro=state.products.find(function(product){return product.id===action.payload;});var filtered=state.products.filter(function(product){return product.id!==action.payload;});return _objectSpread(_objectSpread({},state),{},{products:filtered,totalPrice:state.totalPrice-findPro.productPrice*findPro.quantity,totalQuantities:state.totalQuantities-findPro.quantity});default:return state;}};export default CartReducer;","map":{"version":3,"sources":["C:/Users/Admin/Desktop/PROJECT III/src/store/reducers/CartReducer.js"],"names":["toast","initState","products","totalPrice","totalQuantities","CartReducer","state","action","findPro","index","type","payload","product","quantity","check","find","pr","id","info","position","autoClose","Tprice","productPrice","Tquantities","findIndex","productPricee","filtered","filter"],"mappings":"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","sourcesContent":["import { toast } from 'react-toastify';\nconst initState = {\n    products: [],\n    totalPrice: 0,\n    totalQuantities: 0\n}\n\nconst CartReducer = (state = initState, action) => {\n    let findPro;\n    let index;\n    switch(action.type){\n        case 'ADD_TO_CART':\n        const {product,quantity} = action.payload;\n        const check = state.products.find(pr => pr.id === product.id);\n        if(check){\n            toast.info('Sản phẩm đã được thêm vào giỏ hàng', {\n                position: \"top-right\",\n                autoClose: 2000,\n                \n            });\n            return state;\n        } else {\n            const Tprice = state.totalPrice + product.productPrice * quantity;\n            const Tquantities = state.totalQuantities + quantity;\n            product.quantity = quantity;\n            return {\n                ...state, products: [...state.products, product],totalPrice: Tprice, totalQuantities: Tquantities \n            }\n\n        }\n        case 'INC':\n          findPro = state.products.find(product => product.id === action.payload);\n          index = state.products.findIndex(product => product.id === action.payload);\n          findPro.quantity += 1;\n          state.products[index] = findPro;\n          return {\n              ...state,\n              totalPrice: state.totalPrice + findPro.productPrice, totalQuantities: state.totalQuantities+1\n          }\n        case \"DEC\":\n        findPro = state.products.find(product => product.id === action.payload);\n        index = state.products.findIndex(product => product.id === action.payload);\n        if(findPro.quantity > 1){\n           findPro.quantity -= 1;\n           state.products[index] = findPro;\n           return {\n               ...state,\n               totalPrice: state.totalPrice - findPro.productPricee, totalQuantities: state.totalQuantities - 1\n           }\n        } else {\n            return state;\n        }\n        case 'REMOVE':\n        findPro = state.products.find(product => product.id === action.payload);\n        const filtered = state.products.filter(product => product.id !== action.payload);\n        return {\n            ...state,\n            products: filtered,\n            totalPrice: state.totalPrice - findPro.productPrice * findPro.quantity, totalQuantities: state.totalQuantities - findPro.quantity\n        }\n        default: \n        return state;\n    }\n\n}\nexport default CartReducer;"]},"metadata":{},"sourceType":"module"}